<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<title>Premier League Puan Durumu</title>
<style>
  body { font-family: Arial, sans-serif; background: #f4f4f4; }
  table { width: 80%; margin: 20px auto; border-collapse: collapse; background: #fff; }
  th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
  th { background: #003399; color: white; }
</style>
</head>
<body>

<h2 style="text-align:center;">Premier League (API Current Season)</h2>

<table>
  <thead>
    <tr>
      <th>Sıra</th><th>Takım</th><th>O</th><th>G</th><th>B</th><th>M</th><th>P</th>
    </tr>
  </thead>
  <tbody id="puan">
    <tr><td colspan="7">Yükleniyor...</td></tr>
  </tbody>
</table>

<script>
  fetch("https://api.football-data.org/v4/competitions/PL/standings", {
    headers: { "X-Auth-Token": "201782961f2a4ff9a727ccfacad361e9" }
  })
  .then(response => response.json())
  .then(data => {
    const standings = data.standings;
    if (!standings || standings.length === 0) {
      document.getElementById("puan").innerHTML = "<tr><td colspan='7'>Puan durumu bulunamadı.</td></tr>";
      return;
    }

    const table = standings[0].table;

    document.getElementById("puan").innerHTML = table.map(team => `
      <tr>
        <td>${team.position}</td>
        <td>${team.team.name}</td>
        <td>${team.playedGames}</td>
        <td>${team.won}</td>
        <td>${team.draw}</td>
        <td>${team.lost}</td>
        <td>${team.points}</td>
      </tr>
    `).join("");
  })
  .catch(error => {
    console.error("API hatası:", error);
    document.getElementById("puan").innerHTML = "<tr><td colspan='7'>API bağlantı hatası oluştu.</td></tr>";
  });
</script>

</body>
</html>
